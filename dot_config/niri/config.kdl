include "binds.kdl"
input {
    mouse {
        accel-speed 0.3
        accel-profile "flat"
    }
    keyboard {
        xkb {
            layout "de"
            variant "us"
        }
        numlock
    }
    tablet {
        map-to-output "ASUSTek COMPUTER INC PA278QV SCLMQS108511"
    }
    focus-follows-mouse max-scroll-amount="1%"
    workspace-auto-back-and-forth
}
output "DP-1" {
    mode "2560x1440@74.92"
    position x=0 y=0
}
output "HDMI-A-1" {
    mode "1920x1080@60.00"
    position x=2560 y=250
}
layout {
    background-color "transparent"
    gaps 6
    // default-column-display "tabbed"
    always-center-single-column
    center-focused-column "never"
    preset-column-widths {
        proportion 0.33333
        proportion 0.5
        proportion 0.66667
    }
    default-column-width {
        proportion 0.5
    }
    focus-ring {
        off
        width 1
        active-gradient from="#ff00ff" to="#ff3333" angle=45 in="oklch increasing hue"
        inactive-color "#000000"
    }
    border {
        width 2
        active-gradient from="#ff00ff" to="#ff3333" angle=45 in="oklch increasing hue"
        inactive-color "#000000"
    }
    tab-indicator {
        active-color "#5ef1ff90"
        inactive-color "#7b849690"
        width 8
        gap 8
        length total-proportion=0.33
    }
    insert-hint {
        gradient from="#5ef1ff70" to="#bd5eff70" angle=45
    }
    shadow {
        softness 30
        spread 5
        offset x=0 y=5
        color "#0007"
    }
}
overview {
    backdrop-color "#1a1b26"
    workspace-shadow {
        softness 50
        spread 20
        offset x=0 y=10
        color "#0007"
    }
}
screenshot-path "~/misc/screenshots/screenshot-%Y-%m-%d-%H-%M-%S.png"
animations {
    slowdown 0.7
}
workspace "main"
workspace "2"
workspace "scratch"
window-rule {
    match app-id="chrome-chatgpt"
    match app-id="chrome-claude"
    open-on-workspace "scratch"
    open-focused false
    open-floating true
    default-column-width {
        fixed 1000
    }
    default-window-height {
        fixed 1200
    }
}
window-rule {
    exclude app-id="firefox"
    match is-active=false
    opacity 0.95
}
window-rule {
    match app-id="firefox"
    open-maximized true
}
window-rule {
    match app-id="^org.pulseaudio.pavucontrol$"
    match app-id="^org\\.gnome\\.NautilusPreviewer$"
    match app-id="^org\\.gnome\\.Nautilus"
    open-floating true
    min-width 900
    min-height 700
}
window-rule {
    match app-id="foot.yazi"
    match app-id="foot.float"
    match app-id="foot.calculator"
    open-floating true
    default-column-width {
        fixed 1600
    }
    default-window-height {
        fixed 800
    }
    default-floating-position x=500 y=300
}
window-rule {
    match app-id="neovide"
}
window-rule {
    match app-id="(?i)^firefox$" title="^Picture-in-Picture$"
    match app-id="(?i)(pavucontrol|keepass|nm-connection-editor)"
    match title=".*Extension.*Bitwarden.*"
    match app-id="xdg-desktop-portal-gtk"
    open-floating true
}
window-rule {
    geometry-corner-radius 5
    clip-to-geometry true
}
recent-windows {
    binds {
        Mod+Tab {
            next-window scope="workspace"
        }
        Mod+Shift+Tab {
            previous-window scope="workspace"
        }
        Mod+grave {
            next-window scope="output" filter="app-id"
        }
        Mod+Shift+grave {
            previous-window scope="output" filter="app-id"
        }
    }
}
cursor {
    xcursor-theme "Bibata-Modern-Classic"
    xcursor-size 24
}
hotkey-overlay {
    skip-at-startup
}
xwayland-satellite {
 // off

}
prefer-no-csd
spawn-sh-at-startup "app2unit -t service niriusd"
spawn-sh-at-startup "app2unit -t service wbg ~/.config/niri/wallpapers/haha.png"
spawn-at-startup "app2unit" "-t" "service" "/usr/lib/polkit-kde-authentication-agent-1"
spawn-at-startup "app2unit" "wl-paste" "--type" "text" "--watch" "cliphist" "store"
spawn-at-startup "app2unit" "wl-paste" "--type" "image" "--watch" "cliphist" "store"
spawn-at-startup "uwsm" "finalize" "NIRI_SOCKET" "DISPLAY" "XCURSOR_THEME" "XCURSOR_SIZE"

